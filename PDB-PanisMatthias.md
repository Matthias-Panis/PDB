![Tia portal minimum requirements ](../PDB/Images/FrontPage.jpg)

# Inhoud

[1	Projectdefinitie	](#1-projectdefinitie)

[2	Voorwoord	](#2-voorwoord)

[3	Omschrijving Bachelorproef	](#3-omschrijving-bachelorproef)

[4	IST-Situatie	](#4-ist-situatie)

[5	SOLL-Situatie	](#5-soll-situatie)

[6	ACTEA team ](#6-actea-team)

 [6.1	Van Grieken Geert ](#6-1-van-grieken-geert)

 [6.2	Sasha Pampus ](#6-2-sasha-pampus)

 [6.3	Florian Maximillian Eichel ](#6.3)

 [6.4	Panis Matthias ](#6.4)

[7	Software vereisten	](#7-software-vereisten)

 [7.1	TIA PORTAL	](#7-1-tia-poral)

 [7.2	FactoryIO	](#7-2-factoryio)

[8 Cursus](#8-cursus)

[9	Bibliografie	](#9-bibliografie)

[10	Figuurlijst	](#10-figuurlijst)

Dit PDB staat ook op een persoonlijke repository op [Github](https://github.com/Matthias-Panis/PDB/blob/master/PDB-PanisMatthias.md)


#1 Projectdefinitie

Mijn project zal gaan over het schrijven van een basiscursus in automatisatie.
Het project is een internationaal project waarbij Mr. Van Grieken ontwikkelaar
is van cursusmateriaal en didactisch materiaal en levert hij technische
ondersteuning op vlak van PLC-uitrusting. Hij heeft mij als hulp ingeschakeld om deze cursus te
vervolledigen. Dit project of terwijl ACTEA zal gebruikt worden internationaal
om de bevolking daar op te leiden in de STEM wereld.

Om de levensstandaard in Oost-Afrikaanse landen te verbeteren bied dit project
een zekere meerwaarde. Bovendien is er een grote vraag naar technici van
investeerders, ngo’s en de opkomende middenklasse. Om aan deze vraag te kunnen
voldoen, is er behoefte aan bekwame mensen, opgeleid in relevante technische
beroepen, maar die zijn moeilijk te vinden vanwege de sterke theoretische
benadering aan de universiteiten in plaats van praktijkgericht
competentiegericht onderwijs.

Het ACTEA-project heeft tot doel te voldoen aan de specifieke behoeften op het
gebied van engineering, betere afstemming van vaardigheden te bieden,
cursusmateriaal te leveren in 2 specialisaties, computerondersteunde
fabricagetechnologie en elektrotechniek & automatisering, en technologische
laboratoria op te richten met virtuele en externe toegankelijkheid, leermiddelen
opzetten, academisch personeel aanvullende opleiding over technologie en in het
ontwikkelen van technologisch cursusmateriaal volgens EU-normen.

Zoals eerder vermeld is Mr. Van Grieken ontwikkelaar in cursusmateriaal en
didactisch materiaal. Hierbij zal ik mee helpen en hier zal mijn bachelor proef
dan ook over gaan.

# 2 Voorwoord

Ik studeer op het departement Wetenschap & Techniek van AP-Hogeschool deze bevind zich op de campus spoor noord - Ellermanstraat 33 in Antwerpen. Ik volg hier de opleiding elektrotechniek met de afstudeerrichting Automatisatie. Hier doe ik ook mijn bachelorproef voor het ACTEA-project. ACTEA is een samenwerking van de volgende universiteiten en hogescholen:
- Hogeschool West-Vlaanderen
- Fachhochschule Dortmund
- Technological Educational Institute of Crete
- Mekelle University Ethiopia
- Jimma University (Jimma Institute of Technology)
- Mbarara University of Science and Technology
- Muni University
- Mzumbe University
- Ardhi University
- Research and Education Network for Uganda
- Tanzania Education and Research Network

Hierbij gaan ze cursussen oprichten in de STEM richting voor gebruik in Zuid-Afrikaanse landen waaronder, Ethiopië, Uganda en Tanzania. Deze cursussen bestaan uit 2 grote modulles, modulle 1: "Computer Aided Manufacturing Technology”, module 2 "Electrical Engineering & Automation" en ten slotte module 3 : "Labor Market Skills".
Ik zit in de groep dat verantwoordelijk is over module 2 "Computer Aided Manufacturing Technology" hierin zijn er nog verschillende cursussen.
- Electrical Installations
- Electrical Motors & Drives
- Basic PLC Programming
- Advanced PLC & Motion
- Sensor Technology
- Process Simulation & Control
- Renewable Energy
- Embedded Measurement and Control


Waaruit "Advanced PLC & Motion" mijn verantwoordelijkheid zijn.


# 3 Omschrijving Bachelorproef

Ik zal bestaande cursusmateriaal omzetten naar het engels. Dit cursus materiaal bevatten ook schema's en oefening die ik zal hermaken / hernoemen naar de correcte engelse benamingen. De oefening zal ik zelf allemaal moeten uittesten en naar de correcte engelse benamingen omzetten. Ik maak gebruik van Atom om deze cursus in markdown [^1] te schrijven en heb ook in Atom mijn PDB geschreven. Atom is een tekst editor vooral gemaakt voor bv. markdown bestanden mee te schrijven. Verder gebruik ik ook GitHub om de cursusses en mijn aanpassingen te uploaden en downloaden. Mensen met de juiste link hiernaar kunnen dan deze cursussen en bestanden online bekijken.

De PDB zelf heb ik dan ook in een .md bestandformaat geschreven gebruik makend van Atom. Deze is dan geexport naar een HTML pagina die dan in een PDF versie gepresenteerd wordt.

[^1]: Markdown is een opmaaktaal op basis van platte tekst die ontworpen is voor HTML gebaseerde webpagina's. (Bestandsextensie .md)

#4 IST-Situatie
- Advanced PLC boek is nog niet vervolledigen
- ADD01[^2] Electrical drawings
- ADD02 TAG Name

#5 SOLL-Situatie
- Elektonische Advanced PLC boek geschreven
- EX01[^3] Industrial Networks
- EX02 ANSI/ISA S88
- EX03 Sequential controllers
- EX04 Continue controllers
- EX05 HMI displays
- ADD03 Manuals
- ADD04 GRAFCET
- ADD05 controllers
- ADD06 S88

[^2]: ADD = Addendum, een onderwerp wordt hierin volledig uitgelegd.
[^3]: EX = Exercise, een oefening die de student zal kunnen maken.

#6 ACTEA Team

Via Microsoft Teams worden er meatings georganiseerd. Hier gaat ook alle communicatie door. Als er een hoofdstuk klaar is voor controle laat ik het via deze manier weten.

## 6-1 Van Grieken Geert

Lector op AP-Hogescool is voornamelijk verantwoordelijk voor het automatisatie gedeelte van het ACTEA project. Hij schrijft zelf de cursus "Basic PLC Programming". Normaal ook "Advanced PLC & Motion" maar dit neem ik over van hem. Hij stuurt me ook het meeste aan en geeft me de benodigde documentatie om verder te kunnen met het schrijven van mijn deel van de cursus.

## 6-2 Sasha Pampus

## 6-3 Florian Maximillian Eichel

## 6-4 Panis Matthias
Student (ik) die verantwoordelijk is voor de uitwerking van de cursus "Advanced PLC & Motion"

#7 Software vereisten

In de cursus is er gebruik gemaakt van TIA Portal en FactoryIO. TIA Portal is een computerprogramma dat gebruikt wordt om de oefeningen die aan bod zullen komen te programmeren en uit te voeren op een PLC. FactoryIO is een simulatie programma dat waarin je verschillende scénes kunt maken van echte machine's. Deze scènes en machines die gebouwd zijn in FactoryIO kunnen gesimuleerd worden om met een PLC te communiceren. Hiermee kan een student zijn programmatie controleren zonder effectief de machine voor hun te hoeven hebben. Dit is geweldig makkelijk voor studenten omdat ze het live kunnen controleren met de simulatie van een "echte" machine.

Om deze programma's uit te kunnen voeren zal je PC tenminste met deze specificaties moeten voldoen.

## 7-1 Tia Portal

| **Hardware/Software**| **Requirement** |
| :---: | :---: |
| Processor | Intel® Core ™ i5-6440EQ (up to 3.4 GHz) |
| RAM | 16 GB (min. 8 GB, 32 GB for large projects) |
| Hard disk   |  SSD with 50 GB free storage space  |
| Network   |  1 Gbit (for multi-user) Laptops need WiFi |
| Monitor   |   15.6 "full HD display (1920 x 1080 or more) |
| Operating system	 |  ![Tia portal minimum requirements ](../PDB/Images/TiaPortalMinReq.jpg) |

## 7-2 FactoryIO

| **Hardware/Software**| **Requirement** |
| :---: | :---: |
| Processor | CPU with SSE2 instruction set support |
| GPU/ Video Card   | NVIDIA since 2006 (GeForce 8), AMD since 2006 (Radeon HD 2000), Intel since 2012 (HD 4000 / IvyBridge)  |
| RAM | 8 GB |
| Hard disk   |  SSD with 10 GB free storage space  |
| Network   |  1 Gbit (for multi-user) Laptops need WiFi |
| Monitor   |   15.6 "full HD display (1920 x 1080 or more) |
| Operating system	 |  Windows 7 SP1+ or higher |


#8 Cursus

Ik behandel het gedeelte M2C4 wat de advanced cursus is van automatisatie cursus.
Deze zal de volgende onderwerpen bespreken:
- Addendum 3 **HMI**
- Addendum 4 **GRAFCET**
- Addendum 5 **Controllers**
- Addendum 6 **Software model following S88**
- Exercise 1 **Industrial networks**
- Exercise 2 **ANSI/ISA S88**
- Exercise 3 **Sequential controllers**
- Exercise 4 **Continue controllers**
- Exercise 5 **HMI displays**

## 8-1 Addendum 3 HMI

In dit hoofdstuk wordt het HMI en hoe men deze gebruikt in TIA portal besproken.
Men legt uit hoe je de HMI toevoegd via TIA portal. Dit kan zowel via het portal view of project view. Vervolgens wordt men door de device selectie geleid. Als de juiste HMI geselecteerd is zal de HMI wizard tevoorschijn komen. Hierin wordt elke opties uitgelegd en de functies ervan.

Als dit allemaal geconfigureerd is kunnen we verder naar de "Device configuration". Hierbij zullen we eerste de HMI moeten configureren. <p><p>
![Steps GRAFCET](../PDB/Images/Step12.jpg)

In de device configuratie wordt uitgelegd waar men de juiste IP instellingen ingegeven wordt. Als dit ingesteld is zal de CPU en het HMI Paneel worden gecompiled. Als er geen errors zijn kunnen we verder naar het ontwerpen van de schermen.
In dit hoofdstuk legt men uit hoe je een scherm aanpast met verschillende elementen. Deze elementen kunnen via de Toolbox van TIA Portal worden geselecteerd. Vervolgens bespreekt men the "Basic objects", "Elements", "Events" en "Animations".

Onder de **basic objects** zitten de volgende voorwerpen;

- Text box
- Rectangle
- Circle
- Line
- Ellipse
- Graphic view

Deze delen ongeveer dezelfde eigenschappen (hun layout en de make-up ervan).
Dit kan aangepast worden in de properties tab.
Het speciale aan een **Graphic view** is dat men custom afbeeldingen in het HMI schermen kan steken. Dit is uitgelegd hoe men het doet in de cursus.

De **"elements"** zijn figuren die kunnen gelinked worden met PLC data. Deze bestaan uit;

- I/O-Field
- Button
- Symbolic I/O-Field
- Graphical I/O-Field
- Date/Time Field
- Bar
- Switch

Een I/O-Field kan dus ingesteld worden om bv. een integer waarde vanuit de plc te lezen en/of wegschrijven. Deze functionaliteit wordt in de properties veranderd onder "General".

De **events** kunnen toegepast worden op elk object of figuur op een HMI scherm.
Deze events kunnen verschillende functies doen bv. ![Steps GRAFCET](../PDB/Images/Step24.jpg)
In de cursus leg ik het gebruik van "SetBitWhileKeyPressed" dit zal de functionaliteit van een drukknop nabootsen.

De **animations** bestaat onder 2 verschillende toepassingen die men kan kiezen.
Deze zijnde ;

- Display
- Movements

Het display zal de optie geven om de "visibility" aan te passen. Hierdoor kan je voorwerpen tevoorschijn of verbergen aan de hand van een waarde.

De movements bestaan onder 4 verschillende sub categoriëen;

- Direct movement
- Diagonal movement
- Horizontal movement
- Vertical movement

Deze bepalen hoe het object zal bewegen. Dit is ook weer linkbaar met een variabel.

## 8-2 Addendum 4 GRAFCET
### 8-2-1 Uitleg
In dit hoofdstuk wordt een GRAFCET uitgelegd. Hoe men deze correct opstelt en alle functionaliteit hiervan.

Beginnend met de uitleg van wat een GRAFCET is en waarom deze nodig is. Dit is dus nodig bij geautomatiseerde systemen die een sequentieel proces gevolgen(stap voor stap).
- De GRAFCET zal stap voor stap lopen.
- Het heeft een initiële stap waarin hij altijd begint.
- Een overgang zal met een wiskundige boolean expressie getoond worden.
- Het resultaat hiervan zal of terwijl TRUE of FALSE zijn.
- Er zal altijd 1 actieve stap uitgevoerd worden.
- Alleen stappen die verbonden zijn met actieve stap zullen kunnen uitgevoerd worden.
- Andere stappen kunnen geactiveerd worden op voorwaarden dat ze verbonden zijn met de actieve stap en als het resultaat van de overgang TRUE is.

Verder bespreekt men hoe je een GRAFCET opstelt. Hierbij leggen we de stappen, connecties, transities, acties en structuren en functie regels uit.


| **Begrip** | **Uitleg** |
| :---:      | :---            |
| GRAFCET diagram | Een GRAFCET diagram is een collectie van stappen, acties, transities, connecties, etc |
| Step   | Een stap weergeeft een bepaalde conditie van het sequentieel proces. Een stap is of terwijl actief of niet actief  |
| Connections | "Connections" zijn lijnen in het netwerk die stappen connecteert |
| Actions |  Een "Action" is toegewezen aan een stap. Deze zal verbonden zijn met de stap via een horizontale lijn. Het is toegestaan om meerdere acties per stap uit te voeren. Elk heeft hun eigen rechthoek. |
| Structure   |  Een "structure" is een serie van stappen waar elke stap maximaal een transitie conditie  heeft |
| Function rules   |  **De functie van een GRAFCET** is normaal stap voor stap. Als de voorwaarden voor de volgende stap voldaan worden zal de volgende stap geactiveerd worden en de vorige stap gedeactiveerd. |

Elk mogelijk symbool dat m'n kan gebruiken in een GRAFCET zal ook uitgelegd worden. Voorbeeld hiervan (alle mogelijke stappen uitgelegd): <p><p>

![Steps GRAFCET](../PDB/Images/Steps_Ex.jpg)

Ten slotte zal er ook een voorbeeld gegeven om verdere uitleg te geven over het onderwerp.
In dit voorbeeld zullen we een simpele transportband van links naar rechts en omgekeerd laten draaien. Door middel van een start stop sturing zullen we deze starten en stoppen. Telkens dat we op stop duwen zal de transportband meteen stoppen. Als we op start zal de GRAFCET en transportband verder gaan waar ze  gebleven waren. De fotocel sensoren zullen de aanweezigheid detecteren van de box. De status van de fotocellen (%I) zijn gelinked met de GRAFCET variabelen "iSenFw" en "iSenBw".
Het controleren van de transportband zal gebeuren in stap 1 en 2 op de conditie dat de installatie start.
De effectieve besturing van the transportband zal gebeuren de GRAFCET variabelen "oBeltFw en oBeltBw" die dat gelinked zijn aan de contactoren (%Q)
Het tellen van het aantal keer dat de transportband voorwaards en achterwaards beweegt door internal INT variabele "i".
De transportband : <p><p>
![Example Conveyorbelt](../PDB/Images/ConveyorBeltEx.jpg)
Geruik makend van dit start stop circuit: <p><p>
![Example Conveyorbelt](../PDB/Images/StartStopEx.jpg)
Hiervoor zullen we een GRAFCET als volgt bouwen: <p><p>
![Example GRAFCET](../PDB/Images/GRAFCET_Ex.jpg)

### 8-2-2 Programmatie in TIA PORTAL

Om dan deze GRAFCET in TIA Portal te programmeren zijn er verschillende methoden om dit te doen. Verder uitgelegd zullen deze methodes aanbod komen.

- GRAFCET programming in LAD/FBD using BOOL
- GRAFCET programming in LAD/FBD using INT
- GRAFCET programming in ST

### 8-2-2-1 GRAFCET programming in LAD/FBD using BOOL

De programmatie zullen in deze 3 netwerken verdeeld worden:
- Initialization
- Transition-conditions
- Actions

De volgende regels worden toegepast

- Elke stap heeft een unieke BOOL variabelen
- Deze variabelen is een ARRAY van BOOL startend met 0 en eindigd op het maximum stap nummer.
- Als de juiste variabelen TRUE is zal de gelinkte stap actief worden.
- Input "ilnit" is altijd aanweezig wat de activatie van de intiale stap kan activeren bij een stijgende flank.
- Input "iStarted" wat het resultaat is van de start stop sturing


| **Advantages** | **Disadvantages** |
| :---:          | :---:             |
| Simplicity (1 step = 1 variable) | Initial step is not activated during the first download of the program |
|                                | Monitoring of active steps is complicated        |
### 8-2-2-2 GRAFCET programming in LAD/FBD using INT

De programmatie zullen in deze 3 netwerken verdeeld worden:
- Initialization
- Transition-conditions
- Actions

De volgende regels worden toegepast

- Alleen de actieve stap moet gekend zijn
- De actuele stap is een STATIC INT variabelen (step)
- De initiële waarde van de variabelen is het decimale waarde 0
- Input "ilnit" is altijd aanweezig wat de activatie van de intiale stap kan activeren bij een stijgende flank.
- Input "iStarted" wat het resultaat is van de start stop sturing


| **Advantages** | **Disadvantages** |
| :---:          | :---:             |
| Initial step is activated during the first download of the program | More complex, advanced programming then with LAD/FBD BOOL method |
| Monitoring of active steps is easier | Programming of AND-convergence is more complex then with LAD/FBD BOOL variant |

### 8-2-2-3 GRAFCET programming in ST

De programmatie zullen in deze 3 netwerken verdeeld worden:
- Initialization
- Transition-conditions
- Actions

De volgende regels worden toegepast

- Het gebruik van CASE .. OF .. ELSE control structure voor het verwerken van de overgangs condities.
- Alleen de actieve stap moet gekend zijn
- De actuele stap is een STATIC ANY_INT variabelen (step)
- De initiële waarde van de variabelen is het decimale waarde 0
- De actuele waarde van deze variabelen is gelinked aan de actieve GRAFCET stap.
- De intiale stap is automatisch geactiveerd de eerste keer het programma gedownload wordt naar de PLC.
- Input "ilnit" is altijd aanweezig wat de activatie van de intiale stap kan activeren bij een stijgende flank.
- Input "iStarted" wat het resultaat is van de start stop sturing

| **Advantages**| **Disadvantages** |
| :---: | :---: |
| Initial step is not activated while the the first download of the program | More complex programming than LAD/FBD variant |
| Smaller programming then LAD/FBD variant | Programming of AND-convergence is more complex than the LAD/FBD BOOL method |
| Monitoring of active steps are easier | Debugging in ST is harder than in FBD/LAD |

## 8-3 Addendum 05 controllers

In dit hoofdstuk worden regelaars of terwijl "controllers" besproken. Waaronder:
- ON-OFF circuit ("Aan-uit schakeling")
- PID controller ("PID regelaar")
- Singular control circuit (Enkelvoudige regelkring)
- Cascade control
- Ratio controller ("Verhoudingsregeling")
- Mix ratio controller ("Mengverhouding regeling")
- Split range controllers

Eerst zijn de eigenschappen van controllers uitgelegd. Deze bevatten de karakterestieken die de controllers die hier besproken worden.
![Example Conveyorbelt](../PDB/Images/Controller-properties.jpg)

### 8-3-1 Aan-uit schakeling

Aan-uit schakeling zal er voor zorgen dat een actuator niet constant aan-uit geschakeld zal worden. Dit gebeurt door 2 grenswaarden, in- en uitschakeldrempel. Het verschil tussen deze 2 grenswaarden wordt de hysteresis genoemd.

### 8-3-2 PID regelaar

Een PID regelaar wordt gebruikt om processen te regelen via een analoge actuator. Een PID regelaar bestaat uit verschillende deelfuncties.
- P of Proportionele actie
- I of Integrerende actie
- D of Differentiërende actie

### 8-3-3 Compact PID regelaar

In deze cursus gebruiken we de compact PID regelaar van TIA-Portal (S7-1200). Een heel groot deel van de paramaters kunnen ingesteld worden gebruik maken van TIA-Portal.



## 8-4 Addendum 06 Software modeling ANSI/ISA-S88

S88 software model is een norm die omschrijft hoe een machine/installatie (batch)proces kan onderverdeeld worden in verschillende onderdelen.

Het S88 software model deelt een machine/installatie proces op in 3 grote delen nl.:

- Het fysisch gedeelte (The physical part)
- Het procedure gedeelte (The procedure part)
- Het recepten gedeelte (The recipe part)

![Example Conveyorbelt](../PDB/Images/S88_Softwaredesign.jpg)

De volgende hoofdstukken zal de verschillende bouwstenen bespreken die in een library zijn opgenomen. Deze zullen in de programmatie van oefeningen kunnen gebruikt worden.

## 8-4-1 Fysich gedeelte - Control modules
**Control modules** zijn software bouwstenen die

- Ingangssignalen (%I) afkomstig van de sensoren verwerken
- Uitgangssignalen (%Q) naar de actuatoren aansturen

In de library zijn er sensor control modules aanweezig, waaronder een digitale sensor(digital sensor) en analoge sensor(analog sensor).

Een **digitale sensor** verwerkt voornamelijk de aanwezigheid van een product, voorwerp, persoon, enz. en heeft 2 toestanden die weergeven of deze producten, voorwerpen en personen al dan niet aanwezig zijn.
Functioneel gezien verzorgen deze sensoren:
- De correcte automatische werking al dan niet met de nodige vertragingen (bijv. openen van een deur m.b.v. een fotocel waarna de deur even open blijft)
- De beveiliging tegen defecten (bijv. droogloop beveiliging)

Zo'n bouwsteen ziet er als volgt uit:
![Example Conveyorbelt](../PDB/Images/ObjectDigitalSensor.jpg)




#9 Bibliografie

#10 Figuurlijst
